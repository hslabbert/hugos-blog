<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hugo&#39;s Blog</title>
    <link>http://blog.slabnet.com/</link>
    <description>Recent content on Hugo&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>hugo@slabnet.com (Hugo Slabbert)</managingEditor>
    <webMaster>hugo@slabnet.com (Hugo Slabbert)</webMaster>
    <copyright>&amp;copy; 2016 Hugo Slabbert</copyright>
    <lastBuildDate>Thu, 22 Sep 2016 20:23:52 -0700</lastBuildDate>
    <atom:link href="http://blog.slabnet.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>GRE Reflection?</title>
      <link>http://blog.slabnet.com/post/gre-reflection/</link>
      <pubDate>Thu, 22 Sep 2016 20:23:52 -0700</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/gre-reflection/</guid>
      <description>

&lt;p&gt;Recently, we&amp;rsquo;re seeing an uptick in GRE traffic as part of a DDoS mix.  Most prominently, GRE featured as the biggest volume contributor in the record 600+ Gbps attack on &lt;a href=&#34;krebsonsecurity.com&#34;&gt;krebsonsecurity.com&lt;/a&gt;.  (Note that the site is currently offline as it&amp;rsquo;s finding a new home, so any links to krebsonsecurity.com will reference &lt;a href=&#34;http://archive.org&#34;&gt;The Internet Archive&lt;/a&gt; instead.)&lt;/p&gt;

&lt;p&gt;An initial tweet from &lt;a href=&#34;https://twitter.com/briankrebs&#34;&gt;@briankrebs&lt;/a&gt; listed GRE in the attack traffic mix:&lt;/p&gt;

&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;per the last tweet, they threw it all at my site; SYN Flood, GET Flood, ACK Flood, POST Flood, GRE Protocol Flood]; 665.00 Gbps;143.50 Mpps&lt;/p&gt;&amp;mdash; briankrebs (@briankrebs) &lt;a href=&#34;https://twitter.com/briankrebs/status/778402188267778048&#34;&gt;September 21, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;p&gt;&amp;hellip;and Krebs later confirmed more details in KrebsOnSecurity&amp;rsquo;s &lt;a href=&#34;https://web.archive.org/web/20160922021000/http://krebsonsecurity.com/2016/09/krebsonsecurity-hit-with-record-ddos/&#34;&gt;own article&lt;/a&gt; reporting on the attack:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Preliminary analysis of the attack traffic suggests that perhaps the biggest chunk of the attack came in the form of traffic designed to look like it was generic routing encapsulation (GRE) data packets, a communication protocol used to establish a direct, point-to-point connection between network nodes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Now, volumetric DDoS attacks will generally use amplification vectors like open DNS resolvers, misconfigured or vulnerable NTP or SNMP servers, SSDP, etc. in order to boost the attack volume.  Those amplifiers are also often vulnerable to reflection attacks, where the attacker spoofs the source address in the initial amplification trigger packets so that the amplified replies hit the target rather than the attacker.  This can be pulled off because these exploited amplification vectors are stateless and UDP-based, and so a single spoofed packet from the attacker will trigger the amplified reply destined for the target.  A TCP-based attack could yield a larger amplification factor (e.g. just think of pulling off an HTTP GET of a GB+ file!), but a TCP 3-way handshake would never complete successfully with a spoofed source address, and even if somehow it could, the attacker would have to keep ACK-ing somehow in order to keep the transfer going.  GRE we are told, however, could not have a spoofed source address (also from &lt;a href=&#34;https://web.archive.org/web/20160922021000/http://krebsonsecurity.com/2016/09/krebsonsecurity-hit-with-record-ddos/&#34;&gt;the same Krebs article&lt;/a&gt;):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;McKeay explained that the source of GRE traffic can’t be spoofed or faked the same way DDoS attackers can spoof DNS traffic.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;GRE is not known to have an amplification vector, and I haven&amp;rsquo;t been able to think of one.  But is it true that source IPs cannot be spoofed in GRE?  &lt;em&gt;Note that this is an untested theory and still needs to be validated.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;We need to dig a bit into what GRE actually is in order to test that out.  The tl;dr is &lt;a href=&#34;#so-how-would-this-be-reflected&#34;&gt;below&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;intro-to-gre-skip-if-you-know-how-gre-and-keepalives-work&#34;&gt;Intro to GRE; skip if you know how GRE and keepalives work&lt;/h3&gt;

&lt;p&gt;Generic Routing Encapsulation, or GRE, is basically a way to wrap up or &amp;ldquo;encapsulate&amp;rdquo; a packet inside another packet.  Why would you want to do that?  Most commonly, GRE is used to tunnel traffic across a set of intermediate routers that would not the traffic being tunneled because they don&amp;rsquo;t have a route for its destination.  If you&amp;rsquo;ve ever connected to a corporate VPN or used a site-to-site IPSEC VPN, it&amp;rsquo;s pretty much the same idea except GRE does not provide encryption.&lt;/p&gt;

&lt;p&gt;Now, GRE tunnels are completely stateless.  This means no agreement needs to made between two routers passing each other GRE traffic about e.g. whether a tunnel is up or down, how many packets have traversed it, anything to do with sequence numbers, etc.  The sending router slaps a GRE header on the packet to be encapsulated, fires it in the direction of the destination router, and calls it a day.  The receiving router similarly just strips off the GRE header and forwards the inner packet if it can.  Now, I&amp;rsquo;ll qualify this by stating that the receiving router can have multiple different GRE tunnels configured, so it should look at the source and destination IP in the GRE header (and possibly a GRE key) in order to figure out which GRE tunnel the packet belongs to, but again this is a stateless operation.&lt;/p&gt;

&lt;p&gt;Why would we use GRE rather than something like an IPSEC tunnel?  Well, not all traffic needs network layer privacy.  If we need to somehow tunnel traffic that would be crossing the public Internet in the clear &lt;em&gt;anyway&lt;/em&gt;, there&amp;rsquo;s no point in encrypting it just because we need to tunnel it.  Ditto if we have traffic for an encrypted protocol (HTTPS, SSH), where we just need to tunnel it to pull routing tricks but don&amp;rsquo;t need to bother encrypting something at the network layer when it has &lt;em&gt;already&lt;/em&gt; been encrypted.  By skipping encryption and state, GRE is computationally &amp;ldquo;cheap&amp;rdquo;, so it can be leveraged in places with constrained resources (low end routers forwarding a decent chunk of traffic) or high scale requirements (big fat routers that need to forward a &lt;strong&gt;lot&lt;/strong&gt; of traffic in hardware at line rate).&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s all nice, but what does this have to do with traffic reflection?  How can we make some endpoint forward on traffic to our target?&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll preface this &lt;em&gt;again&lt;/em&gt; by saying this is thus far just theoretical, and still needs to be labbed up to test it out.  This is very much a hypothesis of &amp;ldquo;If GRE could be reflected, could this be a possible way?&amp;rdquo; rather than a statement that &amp;ldquo;GRE can be reflected, and this is how&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Now, we may sometimes still want to figure out if the other end of a GRE tunnel is alive and that the tunnel is &amp;ldquo;up&amp;rdquo;, but there is no keepalive mechanism in the GRE spec.  So, how do we do that?  Well, Cisco, $deity bless &amp;lsquo;em, never could pass up an opportunity to invent protocols where there is a dirth of RFC coverage, and so GRE keepalives are born.&lt;/p&gt;

&lt;p&gt;GRE keepalives effectively trick the remote router into forwarding the keepalive packet &lt;em&gt;back&lt;/em&gt; to the sender, all without having to know anything about keepalives itself.  Let&amp;rsquo;s say &lt;code&gt;RouterA&lt;/code&gt; is the one sending keepalives, and &lt;code&gt;RouterB&lt;/code&gt; is the other end of the GRE tunnel.&lt;/p&gt;

&lt;p&gt;When &lt;code&gt;RouterA&lt;/code&gt; usually sends traffic through the GRE tunnel, it will take the original packet of user or transit traffic and stuff an additional IP and GRE header onto it.  There are some additional fields available in the GRE header, but effectively it&amp;rsquo;s damn near nothing and just says &amp;lsquo;the actual inner packet is &lt;em&gt;this&lt;/em&gt; protocol&amp;rsquo;.  That will generally by IPv4 (0x0800) or IPv6 (0x86dd), but really can be any EtherType.  The new IP header has a source IP set to &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s own IP address and a destination IP set to &lt;code&gt;RouterB&lt;/code&gt;&amp;rsquo;s IP address.  The original user traffic would have looked like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; -----------------------------------------------------
| IP | SRC IP          | DST             | IP PAYLOAD |
|    | 2001:db8:5::100 | 2001:db8:6::200 |            |
 -----------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With the additional GRE and IP header added, the encapsulated packet looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; ----------------------------------------------------------------------------------------------------------------
| IP | SRC IP        | DST IP        | GRE | GRE           | IP | SRC IP          | DST             | IP PAYLOAD |
|    | 2001:db8:1::1 | 2001:db8:2::2 |     | PROTOCOL=08dd |    | 2001:db8:5::100 | 2001:db8:6::200 |            |
 ----------------------------------------------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Great!  So the GRE packet gets over to &lt;code&gt;RouterB&lt;/code&gt;, it sees its own IP address as the destination and realizes that it has to do something with this packet rather than forward it on.  The L4 protocol is 47 (GRE), so if it can handle GRE then it realizes it has to check what protocol is next in the stack (e.g. IPv4 as 0x0800 or IPv6 as 0x08dd as described above), strip the GRE header, and then forward the inner packet on its merry way (provided it has a route for the destination, the TTL isn&amp;rsquo;t expired, etc. etc.).&lt;/p&gt;

&lt;p&gt;So how does &lt;code&gt;RouterA&lt;/code&gt; get &lt;code&gt;RouterB&lt;/code&gt; to forward keepalives back to &lt;code&gt;RouterA&lt;/code&gt;, especially as we said that &lt;code&gt;RouterB&lt;/code&gt; doesn&amp;rsquo;t know anything about dem dere fancy GRE keepalives?&lt;/p&gt;

&lt;p&gt;&lt;code&gt;RouterA&lt;/code&gt; actually encapsulates its keepalive packet in GRE &lt;strong&gt;twice&lt;/strong&gt;.  The outer headers are what we&amp;rsquo;ve discussed here already:  source = &lt;code&gt;RouterA&lt;/code&gt; IP, destination = &lt;code&gt;RouterB&lt;/code&gt; IP, and then a GRE header.  The inner packet in this case is not some user traffic that&amp;rsquo;s going to the networks at &lt;code&gt;RouterB&lt;/code&gt;, but rather &lt;strong&gt;another GRE packet&lt;/strong&gt;.  &lt;code&gt;RouterA&lt;/code&gt; crafts the packet so that the source IP on this &lt;em&gt;inner&lt;/em&gt; GRE packet is actually &lt;em&gt;&lt;code&gt;RouterB&lt;/code&gt;&lt;/em&gt;&amp;rsquo;s IP address, with the destination set to &lt;em&gt;its own&lt;/em&gt; IP address (that is, &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s IP).  That header stack looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; --------------------------------------------------------------------------------------------------------------------
| IP | SRC IP        | DST IP        | GRE | GRE             | IP | SRC IP        | DST IP        | GRE | GRE        |
|    | 2001:db8:1::1 | 2001:db8:2::2 |     | PROTOCOL=0x08dd |    | 2001:db8:2::2 | 2001:db8:1::1 |     | PROTOCOL=0 |
 --------------------------------------------------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For this double-encapsulated packet, things at &lt;code&gt;RouterB&lt;/code&gt; start off just as described above for regular user traffic.  &lt;code&gt;RouterB&lt;/code&gt; receives the GRE packet, sees the destination IP is its own, checks the GRE header for the protocol number value and then strips it, and then starts to look at what it should do with the inner payload.  Except now, that inner payload is &lt;em&gt;another&lt;/em&gt; GRE packet, with a source IP address set to &lt;code&gt;RouterB&lt;/code&gt;&amp;rsquo;s own IP and a destination IP set to &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s IP.&lt;/p&gt;

&lt;p&gt;So what does &lt;code&gt;RouterB&lt;/code&gt; do?  Well, like a good router, it looks up its route for &lt;code&gt;RouterA&lt;/code&gt; and dutifully forwards the packet (with the outer IP and GRE header stripped) back over to thattaway.  &lt;code&gt;RouterA&lt;/code&gt; receives the packet, sees its own IP address as the destination, sees a GRE header, and evaluates that.  GRE keepalives use a special protocol number of 0 (as opposed to 0x0800 or x08dd for IPv4 and IPv6 as mentioned above).  On seeing the protocol field set to 0, &lt;code&gt;RouterA&lt;/code&gt; realizes this is a GRE keepalive packet, and it resets the GRE tunnel keepalive counter to zero and considers the GRE tunnel to be up.&lt;/p&gt;

&lt;h3 id=&#34;so-how-would-this-be-reflected&#34;&gt;So how would this be reflected?&lt;/h3&gt;

&lt;p&gt;Who says the attacker has to set the destination IP address in the inner GRE packet to their own address?&lt;/p&gt;

&lt;p&gt;The very &lt;em&gt;design&lt;/em&gt; of this is such that &lt;code&gt;RouterB&lt;/code&gt; in our example does not need to know anything about keepalives or the double encapsulation setup.  It does no correlation or checks between the source and destination IP addresses on the outer IP header and the inner ones.  There is nothing stopping me from setting the destination address to whatever the hell I want.  If I want to hit someone at 2001:db8:ffff::a, I just do:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; -----------------------------------------------------------------------------------------------------------------------
| IP | SRC IP        | DST IP        | GRE | GRE             | IP | SRC IP        | DST IP           | GRE | GRE        |
|    | 2001:db8:1::1 | 2001:db8:2::2 |     | PROTOCOL=0x08dd |    | 2001:db8:2::2 | 2001:db8:ffff::a |     | PROTOCOL=0 |
 -----------------------------------------------------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To think of it: What&amp;rsquo;s stopping me from stuffing a whole IP packet in there rather than just a minimal-payload GRE keepalive?&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; --------------------------------------------------------------------------------------------------------------------------------------
| IP | SRC IP        | DST IP        | GRE | GRE             | IP | SRC IP        | DST IP           | GRE | GRE             | IPv6    |
|    | 2001:db8:1::1 | 2001:db8:2::2 |     | PROTOCOL=0x08dd |    | 2001:db8:2::2 | 2001:db8:ffff::a |     | PROTOCOL=0x08dd | PAYLOAD |
 --------------------------------------------------------------------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I see two possible permutations of this, with varying levels of difficulty and probability of execution:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;1.&lt;/code&gt; Targeted to configured GRE tunnels, with source address spoofing&lt;/p&gt;

&lt;p&gt;Routers processing GRE traffic &lt;em&gt;should&lt;/em&gt; generally first check if they have a tunnel configured with matching source and destination IPs.  If I&amp;rsquo;m &lt;code&gt;RouterB&lt;/code&gt;, I should first check that I have a GRE tunnel configured towards &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s IP before I process GRE packets with source IPs of &lt;code&gt;RouterA&lt;/code&gt; destined for me.  Provided routers are doing that correctly, this means an attack would have to (a) know about (or guess / scan for) configured GRE tunnels on potential reflectors in order to pull this off and (b) successfully spoof &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s source IP.&lt;/p&gt;

&lt;p&gt;A search could theoretically be possible by sending a GRE-encapsulated packet towards &lt;code&gt;RouterB&lt;/code&gt; with an IP payload destined for an IP that the attacker controls, with the source IP on the outer IP header being varied as the IPs being tested.  The attacker could then listen for that payload packet, and if received, confirm that the tested source IP does in fact have a GRE tunnel configured with &lt;code&gt;RouterB&lt;/code&gt;.  This is a massive search space, though, as each potential reflector would need to be tested against each other potential source IP on the public Internet.  Even in the IPv4 Internet, this is huge, as you&amp;rsquo;re dealing with &lt;code&gt;(2**32) * (2**32 - 1)&lt;/code&gt; combinations (minus RFC1918, multicast, documentation, and other reserved ranges).  That&amp;rsquo;s 18,446,744,069,414,584,320 combinations, for those keeping score at home.  Unless the attackers have prior knowledge about potential reflectors and configured GRE tunnels, this possibility is somewhat remote.&lt;/p&gt;

&lt;p&gt;Second to that, this requires that the attacker be able to spoof &lt;code&gt;RouterA&lt;/code&gt;&amp;rsquo;s IP address.  This is less of a problem given that networks that fail to &lt;a href=&#34;http://www.bcp38.info/index.php/Main_Page&#34;&gt;implement&lt;/a&gt; &lt;a href=&#34;https://tools.ietf.org/html/bcp38&#34;&gt;BCP38&lt;/a&gt; seem to be plentiful, as we see from the prevalance of reflected traffic we have because of spoofed sources.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;2.&lt;/code&gt;  To any GRE-capable router, but dependent on GRE-processing flaw&lt;/p&gt;

&lt;p&gt;GRE has not yet been subjected to the same scrutiny as e.g. DNS and NTP following those becoming heavily abused in reflected and amplified DDoS attacks (how I do not miss the &lt;a href=&#34;https://blog.cloudflare.com/technical-details-behind-a-400gbps-ntp-amplification-ddos-attack/&#34;&gt;Christmas of 2013&lt;/a&gt;&amp;hellip;).  A hypothetical laxity in the processing of GRE traffic could potentially make this a &lt;em&gt;much&lt;/em&gt; easier vector to exploit for reflection while simultaneously being &lt;em&gt;very&lt;/em&gt; difficult for origin and reflector networks to combat.&lt;/p&gt;

&lt;p&gt;If &lt;code&gt;RouterB&lt;/code&gt; does &lt;em&gt;not&lt;/em&gt; validate that it has a GRE tunnel configured with the source IP of the GRE packet, the attacker could send a GRE packet to &lt;code&gt;RouterB&lt;/code&gt; &lt;em&gt;simply from his own IP address or any other IP they want&lt;/em&gt; and still have &lt;code&gt;RouterB&lt;/code&gt; process the GRE packet, strip the header, and pass on the inner packet to the target.  This &lt;em&gt;drastically&lt;/em&gt; reduces the search space on the IPv4 Internet from 18,446,744,069,414,584,320 down to &lt;code&gt;2**32&lt;/code&gt; or roughly 4 billion.  It also means the attacker &lt;em&gt;does not even need to spoof the target&amp;rsquo;s IP address&lt;/em&gt; in order to pull of the reflection attack, as the target IP is contained &lt;em&gt;within&lt;/em&gt; the encapsulated packet.  They can opt to spoof their source IP if they have access to a network that does not implement BCP38, but this would be an optional step that provides additional obfuscation and shielding from attribution and traceback.&lt;/p&gt;

&lt;p&gt;What would make this difficult to combat on the service provider side is that, should such a GRE processing flaw exist, this could be pulled of without any address spoofing, so even networks that properly implement BCP38 would let it pass.  GRE also has perfectly legitimate uses on business and residential networks and so any transiting or hosting networks for the attacker and reflector likely would not be able to simply drop the offending traffic.  Fixes would be dependent on either ACLs or firmware updates on the reflectors.&lt;/p&gt;

&lt;p&gt;The chances of this second reflection option are somewhat remote, as having a flaw of this nature could potentially result in a serious NAT traversal flaw as well.  If I can send &lt;code&gt;RouterB&lt;/code&gt; a GRE-encapsulated packet from any source and have it forward the inner packet along provided it has &lt;em&gt;any&lt;/em&gt; GRE configured it on, that could smash through NAT.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;This post was largely the result of spitballing how reflection might be possible with GRE traffic in light of the recent spike of GRE in large, volumetric DDoS attacks.  There is no amplification in this, and if anything the attacker needs to send &lt;em&gt;more&lt;/em&gt; data than reaches the target as they send the payload with 2x GRE/IP header stacks whereas the reflector strips the outer IP &amp;amp; GRE headers and just sends the one, but should it prove possible it could still be useful for obfuscation.&lt;/p&gt;

&lt;p&gt;On the plus side, While DDoS targets/victims with complex networks or applications may not be able to drop GRE entirely, simpler targets (e.g. websites) should be able to simply drop any IP protocol 47 (GRE) traffic destined for the site without impact.  Given the traffic volumes we&amp;rsquo;re seeing, that&amp;rsquo;s pretty much completely contingent on having a large scale DDoS scrubbing service in place, but at least the rulesets should be fairly simple provided there aren&amp;rsquo;t actual production GRE tunnels or e.g. PPTP VPNs (&lt;a href=&#34;https://www.schneier.com/academic/pptp/faq.html&#34;&gt;for shame&lt;/a&gt;!) hiding behind the scrubbing service.  If needed, static GRE tunnels should be easier to pin down in rulesets with specific source and destinations IPs than PPTP VPNs that use GRE and have varied source IPs.&lt;/p&gt;

&lt;p&gt;P.S. If this hyptothetical flaw in processing of GRE&amp;rsquo;d traffic &lt;em&gt;does&lt;/em&gt; end up being a thing, I call dibs on the &amp;ldquo;pick a trendy and somewhat obnoxious name for software flaws&amp;rdquo; rights and dub this &lt;strong&gt;GREflector&lt;/strong&gt;!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu Xenial and systemd network online target</title>
      <link>http://blog.slabnet.com/post/ubuntu-xenial-and-systemd-network-online-target/</link>
      <pubDate>Mon, 12 Sep 2016 21:42:27 -0700</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/ubuntu-xenial-and-systemd-network-online-target/</guid>
      <description>&lt;p&gt;So, I&amp;rsquo;m bringing a little Chromebox back into use on our home network to do
some basic network services: dhcp, dns, and probably actually using it as a
router (long story; tl;dr TekSavvy says they&amp;rsquo;ll give you a /56 but then the
VDSL modem they sell you can&amp;rsquo;t do DHCPv6-PD properly).&lt;/p&gt;

&lt;p&gt;Anyway&amp;hellip;&lt;/p&gt;

&lt;p&gt;I slapped Ubuntu 16.04 Xenial server on it and started plugging away at a
couple of things.  I opted to use ISC&amp;rsquo;s newer &lt;a href=&#34;https://www.isc.org/kea/&#34;&gt;Kea DHCP
server&lt;/a&gt; rather than &lt;code&gt;isc-dhcp-server&lt;/code&gt;.  Little did I
know that Ubuntu and systemd had other ideas&amp;hellip;&lt;/p&gt;

&lt;p&gt;After getting Kea set up, I reboot the box at some point, only to have my wife
ask me if I&amp;rsquo;m screwing around on the network&amp;hellip;because her laptop didn&amp;rsquo;t get an
IP after coming back from sleep.&lt;/p&gt;

&lt;p&gt;Here I find this gem:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.548 INFO  [kea-dhcp4.dhcp4/2384] DHCP4_STARTING Kea DHCPv4 server version 1.0.0 starting
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.550 INFO  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_CFGMGR_ADD_IFACE listening on interface enp1s0
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.550 INFO  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_CFGMGR_SOCKET_TYPE_DEFAULT &amp;quot;dhcp-socket-type&amp;quot; not specified , using default socket type raw
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.554 INFO  [kea-dhcp4.dhcp4/2384] DHCP4_CONFIG_NEW_SUBNET a new subnet has been added to configuration: 10.128.1.0/24 with params: valid-lifetime=4000
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.555 INFO  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_MEMFILE_DB opening memory file lease database: type=memfile universe=4
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.557 INFO  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_MEMFILE_LEASE_FILE_LOAD loading leases from file /var/lib/kea/kea-leases4.csv
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.599 INFO  [kea-dhcp4.dhcp4/2384] DHCP4_CONFIG_COMPLETE DHCPv4 server has completed configuration: added IPv4 subnets: 1; DDNS: disabled
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.600 WARN  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_OPEN_SOCKET_FAIL failed to open socket: the interface enp1s0 is down or has no usable IPv4 addresses config
Sep 12 19:20:00 cherry kea-dhcp4[2384]: 2016-09-12 19:20:00.600 WARN  [kea-dhcp4.dhcpsrv/2384] DHCPSRV_NO_SOCKETS_OPEN no interface configured to listen to DHCP traffic
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Google (and Ubuntu&amp;rsquo;s Launchpad) to the rescue!
&lt;a href=&#34;https://bugs.launchpad.net/ubuntu/+source/isc-kea/+bug/1550784&#34;&gt;Apparently&lt;/a&gt;,
&lt;code&gt;kea-dhcp4-server.service&lt;/code&gt; doesn&amp;rsquo;t include any references to &lt;code&gt;network.target&lt;/code&gt;
or &lt;code&gt;network-online.target&lt;/code&gt; for some reason.  K; add those&amp;hellip;no joy.&lt;/p&gt;

&lt;p&gt;Try &lt;a href=&#34;https://bugs.launchpad.net/ubuntu/+source/isc-kea/+bug/1550784/comments/3&#34;&gt;post
#3&lt;/a&gt;
by &lt;a href=&#34;https://launchpad.net/~halvors&#34;&gt;halvors&lt;/a&gt; in that thread?  No dice&amp;hellip;&lt;/p&gt;

&lt;p&gt;Trusty ol&amp;rsquo; &lt;a href=&#34;http://unix.stackexchange.com/questions/210604/how-to-write-a-systemd-service-unit-file-so-it-waits-until-a-specific-interface&#34;&gt;StackExchange
post&lt;/a&gt;
in an attempt to wait for a specific interface rather than just networking in
general?  Yea no:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sep 12 21:37:07 cherry systemd[1]: kea-dhcp4-server.service: Control process exited, code=exited status=203
Sep 12 21:37:07 cherry systemd[1]: Failed to start ISC KEA IPv4 DHCP daemon.
Sep 12 21:37:07 cherry systemd[1]: kea-dhcp4-server.service: Unit entered failed state.
Sep 12 21:37:07 cherry systemd[1]: kea-dhcp4-server.service: Failed with result &#39;exit-code&#39;.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The fix?  &lt;a href=&#34;http://unix.stackexchange.com/a/217768&#34;&gt;This beauty&lt;/a&gt; of a wrapper
around an &lt;code&gt;ifquery&lt;/code&gt; shell script with some sleep` thrown in there for good measure:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[Unit]
Description=Wait for all &amp;quot;auto&amp;quot; /etc/network/interfaces to be up for network-online.target
Documentation=man:interfaces(5) man:ifup(8)
DefaultDependencies=no
After=local-fs.target
Before=network-online.target

[Service]
Type=oneshot
RemainAfterExit=yes
TimeoutStartSec=2min
ExecStart=/bin/sh -ec &#39;\
  for i in $(ifquery --list --exclude lo --allow auto); do INTERFACES=&amp;quot;$INTERFACES$i &amp;quot;; done; \
  [ -n &amp;quot;$INTERFACES&amp;quot; ] || exit 0; \
  while ! ifquery --state $INTERFACES &amp;gt;/dev/null; do sleep 1; done; \
  for i in $INTERFACES; do while [ -e /run/network/ifup-$i.pid ]; do sleep 0.2; done; done&#39;

[Install]
WantedBy=network-online.target
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Throw that beauty in &lt;code&gt;/etc/systemd/system/ifup-wait-all-auto.service&lt;/code&gt;,
install it with &lt;code&gt;sudo systemctl enable ifup-wait-all-auto.service&lt;/code&gt;, and then
actually have the &lt;code&gt;network-online.target&lt;/code&gt; references in your &lt;code&gt;systemd&lt;/code&gt; unit
definitions work properly.&lt;/p&gt;

&lt;p&gt;Ain&amp;rsquo;t progress grand?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Moving to Hugo</title>
      <link>http://blog.slabnet.com/post/moving-to-hugo/</link>
      <pubDate>Sun, 28 Aug 2016 22:29:33 -0700</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/moving-to-hugo/</guid>
      <description>&lt;p&gt;So&amp;hellip;I&amp;rsquo;ve moved my blog to &lt;a href=&#34;http://gohugo.io&#34;&gt;Hugo&lt;/a&gt;.  More info to follow, but
bear with me as I clean up some bits and pieces.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BTC tips</title>
      <link>http://blog.slabnet.com/post/btc-tips/</link>
      <pubDate>Sun, 17 Jan 2016 05:43:46 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/btc-tips/</guid>
      <description>&lt;p&gt;This blog hasn&amp;rsquo;t been updated in a bit, but I&amp;rsquo;m experimenting with bitcoin tips.  If you like an article or found it useful, please feel free to send me &amp;ldquo;thank you&amp;rdquo; tip via bitcoin through the BTC address at the bottom of the article.  This is also a rudimentary &amp;ldquo;voting system&amp;rdquo; to let me know which content has been most beneficial to people.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll be adding BTC tip addresses to articles in fits and starts for existing articles as I get to them.&lt;/p&gt;

&lt;p&gt;Cheers!&lt;/p&gt;

&lt;p&gt;JaS&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What do you run on XenServer?</title>
      <link>http://blog.slabnet.com/post/what-do-you-run-on-xenserver/</link>
      <pubDate>Wed, 14 Jul 2010 18:35:57 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/what-do-you-run-on-xenserver/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://twitter.com/XenServerArmy&#34;&gt;@XenServerArmy&lt;/a&gt; asked in &lt;a href=&#34;http://twitter.com/XenServerArmy/status/18477320394&#34;&gt;this tweet&lt;/a&gt; what applications/services people are running on their XenServer deployments. So, here&amp;rsquo;s a quick list for &lt;a href=&#34;http://www.i-worx.ca/&#34;&gt;i-worx&lt;/a&gt;:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Server OS&amp;rsquo;s:

&lt;ol&gt;
&lt;li&gt;Windows Server 2003 R2 (32- and 64-bit)&lt;/li&gt;
&lt;li&gt;Windows Server 2008 R2 (64-bit only)&lt;/li&gt;
&lt;li&gt;Debian (4.0 &amp;amp; 5.0)&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;Active Directory Domain Controllers&lt;/li&gt;
&lt;li&gt;MS DNS Servers&lt;/li&gt;
&lt;li&gt;Server 2003 32-bit Print Server&lt;/li&gt;
&lt;li&gt;MS SQL Servers, 32- and 64-bit (mostly SQL2005, but one old legacy SQL2000 box)&lt;/li&gt;
&lt;li&gt;IIS6.0 web servers&lt;/li&gt;
&lt;li&gt;MS Exchange 2007 (Hub Transport, Mailbox/Public Folder, and Client Access servers)&lt;/li&gt;
&lt;li&gt;Blackberry Enterprise Servers&lt;/li&gt;
&lt;li&gt;MS Project 2007&lt;/li&gt;
&lt;li&gt;MS Sharepoint Services&lt;/li&gt;
&lt;li&gt;MS CRM&lt;/li&gt;
&lt;li&gt;Citrix gear

&lt;ol&gt;
&lt;li&gt;Licensing Server&lt;/li&gt;
&lt;li&gt;Secure Gateways&lt;/li&gt;
&lt;li&gt;Web Interfaces&lt;/li&gt;
&lt;li&gt;Desktop Delivery Controllers for XenDesktop farm&lt;/li&gt;
&lt;li&gt;Provisioning Servers&lt;/li&gt;
&lt;li&gt;XP Virtual Desktops&lt;/li&gt;
&lt;li&gt;Server 2008R2 XenApp servers&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;NetApp Data Fabric Manager&lt;/li&gt;
&lt;li&gt;Sonicwall Viewpoint reporting server&lt;/li&gt;
&lt;li&gt;Various ERP, CRM, and document management application servers&lt;/li&gt;
&lt;li&gt;Custom, SpamAssassin-based email filtering system&lt;/li&gt;
&lt;li&gt;ldirectord load balancers&lt;/li&gt;
&lt;li&gt;Vyatta virtual routers&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;So, what are you running on XenServer? :)&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post:
&lt;a href=&#34;bitcoin:1HoAGU848JyFFaJjr7jGsekfr91BZ2Bw9a&#34;&gt;1HoAGU848JyFFaJjr7jGsekfr91BZ2Bw9a&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#34;Gone Google&#34; Marketing Fail...</title>
      <link>http://blog.slabnet.com/post/gone-google-marketing-fail/</link>
      <pubDate>Tue, 01 Jun 2010 18:21:39 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/gone-google-marketing-fail/</guid>
      <description>&lt;p&gt;Google is touting their Google Apps offering for business with a new post on the official Google Blog (&lt;a href=&#34;http://googleblog.blogspot.com/2010/06/take-test-drive-into-cloud.html&#34;&gt;link&lt;/a&gt;). The post presents a link to a gonegoogle.com site, which runs you through a calculator of how much cash you can save by &amp;ldquo;Going Google&amp;rdquo;. The calculator seems to be based on industry averages for things like uptime, storage costs, remote access, etc., and presents a nice little summary poster at the end. An example is given from guest poster smartfurniture.com.&lt;/p&gt;

&lt;p&gt;A nice little surprise comes up, though, when you click on the link to view the sample poster for Smart Furniture.&lt;/p&gt;

&lt;p&gt;Bandwidth fail:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-bandwidth-fail.png&#34;&gt;&lt;img src=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-bandwidth-fail.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hmm&amp;hellip;that&amp;rsquo;s not good. And if we try to click &lt;strong&gt;Download&lt;/strong&gt;?&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-fail-virus-scan.png&#34;&gt;&lt;img src=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-fail-virus-scan.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Not so good either&amp;hellip;but wait! There is hope! Let&amp;rsquo;s try to &lt;strong&gt;Download anyway&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-fail-forbidden.png&#34;&gt;&lt;img src=&#34;http://justanothersysadmin.files.wordpress.com/2010/06/docs-fail-forbidden.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oh&amp;hellip;damn&amp;hellip;&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve had a few different people check out the links from different networks and using different Google accounts, and all of them had the same result. With that being said, maybe we all downloaded too much docs content recently (?)&lt;/p&gt;

&lt;p&gt;Now, don&amp;rsquo;t get me wrong: I use a lot of Google products and services (Gmail; Docs; Android (HTC Magic running CyanogenMod 5.0.7DS); Chrome, as can be seen in the screenshots; etc.) and love them. This was just too funny to pass up! So, are you ready to Go Google? :)&lt;/p&gt;

&lt;p&gt;UPDATE1: Google has changed the poster link to point to a dummy document (&lt;a href=&#34;https://docs.google.com/fileview?id=0B2Rsgoiin0I9NjAxYzM3YzAtMjExOC00ZDg1LTkxYWMtYmI1M2RmMzU5ZTYy&amp;amp;hl=en&#34;&gt;link&lt;/a&gt;) for &lt;em&gt;Acme Inc&lt;/em&gt;. Nice one!&lt;/p&gt;

&lt;p&gt;Just in case you were curious, the previous sample poster for Smart Furniture is still available (&lt;a href=&#34;http://docs.google.com/fileview?id=0B2Rsgoiin0I9NmFmNTIwOWEtNjdhMy00YWI2LWJmNmUtNDNlOGRkODcyNDBl&amp;amp;hl=en&#34;&gt;link&lt;/a&gt;). My guess is that, as per the initial warning page, posting the PDF for Smart Furniture resulting in them tripping over a bandwidth limit for non-Google format docs for the Smart Furniture Google Apps account. Google probably reset the counter for Smart Furniture, since the original sample doc from them is now accessible, and then generated the dummy Acme Inc. sample page, hosting it within a Google Docs account that is not under the same bandwidth restrictions (internal account?).&lt;/p&gt;

&lt;p&gt;So, I guess this has become a &amp;ldquo;nothing to see here, move along!&amp;rdquo; post at this point, but the screenshots still tell the tale of a nice &amp;ldquo;oops!&amp;rdquo; on this campaign. If you share out a Google doc publicly, apparently you won&amp;rsquo;t want it to become too popular lest you hit your cap.&lt;/p&gt;

&lt;p&gt;UPDATE2: The links may have been updated to the Acme Inc. dummy company, but the images and text in the post still reference Smart Furniture. I&amp;rsquo;m just nitpicking at this point, though, since the numbers they plugged in for Acme Inc. match those from Smart Furniture; I guess I just like being a little pain in the ass ;)&lt;/p&gt;

&lt;p&gt;UPDATE3: K, so they have it all set now. The docs in the sample paragraph just below the video link to the Acme Inc. docs, but Smart Furniture image does now link to an actual Smart Furniture poster. Interestingly, the initial link for the Smart Furniture poster was HTTP, whereas the new link is to same item but over HTTPS, which may indicate differences in bandwidth restrictions between SSL&amp;rsquo;d and non-SSL traffic for Google Docs, or it could just be fluke. Anyhow: Well done to Google for this wrapped up pretty quickly.&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post: 12xP41mYLfNkwbGZPiMNJ2CSmULcNqeTxb&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Wordpress Theme Updated</title>
      <link>http://blog.slabnet.com/post/wordpress-theme-updated/</link>
      <pubDate>Thu, 15 Apr 2010 05:48:25 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/wordpress-theme-updated/</guid>
      <description>&lt;p&gt;In case it isn&amp;rsquo;t obvious: I switched up the theme for the site. I was never really too fond of the light-green touch of the previous theme and the code styling especially bugged me, but it was a fairly clean and so I just kind of stuck with it.&lt;/p&gt;

&lt;p&gt;Anyhow; comments &amp;amp; feedback appreciated.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Cannot install ESET Security on Debian 4.0 Etch Virtuozzo VPS</title>
      <link>http://blog.slabnet.com/post/cannot-install-eset-security-on-debian-40-etch-virtuozzo-vps/</link>
      <pubDate>Wed, 11 Feb 2009 16:24:50 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/cannot-install-eset-security-on-debian-40-etch-virtuozzo-vps/</guid>
      <description>&lt;p&gt;As part of some mail filter testing, I needed to install ESET Mail Security onto a Debian 4.0 Etch VPS running on Virtuozzo. As a side-note, I found that the install package for ESET’s Gateway Filter, Mail Security, and File Server Security for Linux is all the exact same package; the functionality is basically just controlled/activated by means of licensing the appropriate component.&lt;/p&gt;

&lt;p&gt;Anyway, the download comes as an installation script called &lt;code&gt;esets.i386.deb.bin&lt;/code&gt;. Running that script outputs a license agreement that you have to accept, produces a .deb package called &lt;code&gt;esets.i386.deb&lt;/code&gt;, and outputs instructions on how to install the .deb package by using dpkg and import the license file. The .deb package installed just fine on another Debian test box, but when I attempted to run &lt;code&gt;dpkg –i esets.i386.deb&lt;/code&gt; on the Virtuozzo VPS, tar squawked at me that it could not open &lt;code&gt;/dev/stdin&lt;/code&gt; and the installation bailed:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hostname:/usr/local/src/eset# dpkg -i esets-3.0.11.i386.deb
Selecting previously deselected package esets.
(Reading database ... 24639 files and directories currently installed.)
Unpacking esets (from esets-3.0.11.i386.deb) ...
Setting up esets (3.0.11) ...
Unpacking esets modules ...
tar: /dev/stdin: Cannot open: No such file or directory
tar: Error is not recoverable: exiting now
dpkg: error processing esets (--install):
subprocess post-installation script returned error exit status 2
Errors were encountered while processing:
esets
&lt;/code&gt;&lt;/pre&gt;

&lt;!-- more --&gt;

&lt;p&gt;To which I replied, “huh?”&lt;/p&gt;

&lt;p&gt;I took a peek around /dev (&lt;code&gt;ls /dev&lt;/code&gt;), and wouldn’t you know it? No stdin, no stdout, and no stderr! Say what? I checked around ESET’s KB’s, but found nothing related to the issue. I poked around Virtuozzo’s and OpenVZ’s wiki’s, but again came up empty. I checked out the /dev directory (&lt;code&gt;ls –l /dev/&lt;/code&gt;) on my test box on which I had successfully installed the package, and, as expected, /dev/stdin, /dev/stdout, and /dev/stderr were there. Looking more closely, we see that those files are links to a set of files at /proc/self/fd.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hostname:~# ls -l /dev/std*
lrwxrwxrwx 1 root root 15 2009-01-28 02:35 /dev/stderr -&amp;gt; /proc/self/fd/2
lrwxrwxrwx 1 root root 15 2009-01-28 02:35 /dev/stdin -&amp;gt; /proc/self/fd/0
lrwxrwxrwx 1 root root 15 2009-01-28 02:35 /dev/stdout -&amp;gt; /proc/self/fd/1
hostname:~# 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So, on my Debian Virtuozzo VPS, I did the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ln -s /proc/self/fd/0 /dev/stdin
ln -s /proc/self/fd/1 /dev/stdout
ln -s /proc/self/fd/2 /dev/stderr 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I re-ran the package installation, and we were set! I don’t know if this issue is particular to some .deb packages or to all, as I had only used &lt;code&gt;apt-get&lt;/code&gt; up to that point for package installation. As of now, though, I have not yet had any issues with the package or with the links I created…at least not as far as I can tell!&lt;/p&gt;

&lt;p&gt;Let me know if you have any other info on this issue.&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post:
&lt;a href=&#34;bitcoin:1PncfTJjuzybqSDcZrP8qJSApHgtZp5B7F&#34;&gt;1PncfTJjuzybqSDcZrP8qJSApHgtZp5B7F&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>“550 4.4.7 QUEUE.Expired; message expired” when emailing mail-enabled Public folder</title>
      <link>http://blog.slabnet.com/post/550-447-queueexpired-message-expired-when-emailing-mail-enabled-public-folder/</link>
      <pubDate>Wed, 11 Feb 2009 16:24:25 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/550-447-queueexpired-message-expired-when-emailing-mail-enabled-public-folder/</guid>
      <description>&lt;p&gt;We’ve been working on some major upgrades to our Exchange environment over the last while. During the course of that, we started receiving NDR’s for messages sent to mail-enabled public folders. Initially, these were “MapiExceptionNotAuthorized” messages, which are related to permissions. Those were sorted out without too much trouble, as the NDR is at least somewhat descriptive. But then we started receiving a very generic NDR of &lt;code&gt;#550 4.4.7 QUEUE.Expired; message expired ##&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&amp;hellip;not really much to go on. Exchange 2007 does give some more “in plain English, please!” information in its NDR’s, but that also wasn’t much help:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;Delivery has failed to these recipients or distribution lists:&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[user display name]
Microsoft Exchange has been trying to deliver this message without success
and has stopped trying. Please try sending this message again, or provide
the following diagnostic text to your system administrator.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Wow&amp;hellip;that was helpful&amp;hellip;&lt;/p&gt;

&lt;p&gt;After &lt;em&gt;much&lt;/em&gt; digging, I found that the problem stemmed from a public folders server that had been retired. It was going to be re-purposed as an SCR target server, but for now was offline. The trouble was that for the Public Folder tree to which the mail-enabled folder belonged was “owned” by this offline server. This “ownership” is found in the &lt;code&gt;msExchOwningPFTreeBL&lt;/code&gt;attribute of the public folder store in question. This property is accessible through ADSIEDIT. Now, MS articles to do with this state that the &lt;code&gt;msExchOwningPFTreeBL&lt;/code&gt; attribute is not directly editable, but you &lt;em&gt;can&lt;/em&gt; edit or remove the &lt;code&gt;msExchOwningPFTree&lt;/code&gt; attribute, which effectively updates the &lt;code&gt;msExchOwningPFTreeBL&lt;/code&gt; attribute (ref &lt;a href=&#34;http://technet.microsoft.com/en-us/library/aa996228.aspx&#34;&gt;Public Folder Routing&lt;/a&gt; - Technet). I can’t remember if that’s accurate or not, as this happened some time ago, but at this point I only see the &lt;code&gt;msExchOwningPFTreeBL&lt;/code&gt; attribute on our PF store, and not the &lt;code&gt;msExchOwningPFTree&lt;/code&gt; attribute.&lt;/p&gt;

&lt;p&gt;For reference, these attributes are on your PF store, which should be located in the Configuration container in ADSIEDIT (&lt;code&gt;CN=Configuration,DC=yourdomain,DC=[yourtld]&lt;/code&gt;). The full path is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CN=Public Folders,CN=Folder Hierarchies,CN=[Your Exchange Administrative Group Name],CN=Administrative Groups,CN=[Your Exchange Organization Name],CN=Microsoft Exchange,CN=Services,CN=Configuration,DC=[yourdomain],DC=[yourtld].
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After updating the &lt;strong&gt;msExchOwningPFTree&lt;/strong&gt; attribute appropriately to a public folders server that was in production resolved the issue.&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post:
&lt;a href=&#34;bitcoin:16KvZ8hMCNTBhhz9KGZ7MKeW3N1WayaYxR&#34;&gt;16KvZ8hMCNTBhhz9KGZ7MKeW3N1WayaYxR&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Workaround for mysqldump SSL error 2026 bug #27669</title>
      <link>http://blog.slabnet.com/post/workaround-for-mysqldump-ssl-error-2026-bug-27669/</link>
      <pubDate>Mon, 09 Feb 2009 16:36:55 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/workaround-for-mysqldump-ssl-error-2026-bug-27669/</guid>
      <description>&lt;p&gt;I had not previously played aroung much with MySQL replication, but got the chance to do so recently. I&amp;rsquo;m doing some testing with a new mail filter setup composed of &lt;a href=&#34;http://www.ijs.si/software/amavisd/&#34;&gt;amavisd-new&lt;/a&gt;, &lt;a href=&#34;http://spamassassin.apache.org/&#34;&gt;SpamAssassin&lt;/a&gt;, and some other SA modules running through &lt;a href=&#34;http://www.postfix.org/&#34;&gt;Postfix&lt;/a&gt; on &lt;a href=&#34;http://www.debian.org/&#34;&gt;Debian&lt;/a&gt; Etch. The setup uses &lt;a href=&#34;http://www.maiamailguard.com/&#34;&gt;Maia Mailguard&lt;/a&gt; as a web front-end and management system, including per-user settings and quarantines. We&amp;rsquo;re using MySQL for the database backend for Maia for storing quarantines, per-user settings and the like, but wanted to have a dual-MX setup with a secondary MX sitting in a remote site.&lt;/p&gt;

&lt;p&gt;&lt;!-- more --&gt;So, we needed some way to keep the MySQL data between the two servers in sync. I had looked at &lt;a href=&#34;http://www.drbd.org/&#34;&gt;DRBD&lt;/a&gt; and &lt;a href=&#34;http://www.linux-ha.org/&#34;&gt;linux-ha&lt;/a&gt;, but in the end decided to go with a dual-master &lt;a href=&#34;http://dev.mysql.com/doc/refman/5.0/en/replication.html&#34;&gt;MySQL replication&lt;/a&gt; setup (&lt;a href=&#34;http://www.neocodesoftware.com/replication/&#34;&gt;howto1&lt;/a&gt;, &lt;a href=&#34;http://lug.wsu.edu/node/545/print&#34;&gt;howto2&lt;/a&gt;), using the built-in SSL capabilities in MySQL to encrypt the replication traffic over the WAN. After a bit of tweaking, I got that going, but then noticed that I could no longer perform mysqldump commands on the databases when running the command locally. I got the following error message whenever I tried a mysqldump command:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Got error: 2026: SSL connection error when trying to connect&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;I wasn&amp;rsquo;t specifying any SSL parameters in the mysqldump command, though, and while I did configure the replication users to require SSL in their user setup, the mysqldump user did not have an SSL requirement. I got to the official MySQL bug report for this error(#&lt;a href=&#34;http://bugs.mysql.com/bug.php?id=27669&#34;&gt;27669&lt;/a&gt;) as well as the patch link. But to be honest, that didn&amp;rsquo;t really get me anywhere. The bug report indicates that this behaviour has been corrected in MySQL release 5.0.42, and I was running release 5.0.32.&lt;/p&gt;

&lt;p&gt;I updated the mysql-client package on a test machine to 5.0.75 and tried the mysqldump again; the same error still occurred. I didn&amp;rsquo;t want to upgrade the actual mysql-server package as well, so I looked elsewhere for a fix. It occurred to me that, in order for the MySQL replication to use SSL, I had specified the SSL-related options (ssl-ca and so forth) in the [client] section of the global configuration file at /etc/mysql/my.cnf. As mysqldump starts a MySQL client connection, it would stand to reason that it uses the [client] configuration settings that it would find in the global config file, and hence would try to use SSL.&lt;/p&gt;

&lt;p&gt;I wanted to get mysqldump to &lt;em&gt;not&lt;/em&gt; use SSL connections, but still wanted my replication traffic to use SSL. Since the mysqld daemon runs under the mysql user account, I moved the ssl-related config options out of the [client] section of the global config file of /etc/mysql/my.cnf, created a new .my.cnf config file in the mysql user&amp;rsquo;s $HOME directory (/var/lib/mysql on my system), and entered just the ssl-related options in a [client] section of that .my.cnf file. I reloaded the mysqld daemon and confirmed that the slave connection to the remote server came up properly. It did; the configuration options for the mysql user includes both the global config file of /etc/mysql/my.cnf and the per-user .my.cnf file I had just created, so it is able to pick up the ssl-related options in the [client] section of the per-user settings.&lt;/p&gt;

&lt;p&gt;NOTE: The ssl-related options I am talking about here are only those configured in the [client] section. The ssl-related options in the [mysqld] section of the global config file can stay where they are. It should work to have those present in the local mysql user&amp;rsquo;s .my.cnf config file, but I did not test this.&lt;/p&gt;

&lt;p&gt;Since no ssl-related options were specified in the global [client] configuration anymore, and no per-user settings were present for the user I was using for the mysqldump command, the command connected without SSL, the SSL error 2026 messages went away, and I was again able to successfully perform MySQL backups from the local machine.&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post: 15ZhSjpB8iDRHvzgXphpJ9AhkJUPJw5uE5&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Windows Media Player 11 Breaks Internet Connectivity</title>
      <link>http://blog.slabnet.com/post/windows-media-player-11-breaks-internet-connectivity/</link>
      <pubDate>Wed, 13 Aug 2008 06:18:52 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/windows-media-player-11-breaks-internet-connectivity/</guid>
      <description>&lt;p&gt;Alright, so the title for this post seems pretty out there, but I can guarantee you that I have come across this on multiple machines. I&amp;rsquo;m not saying &amp;ldquo;If you install Windows Media Player 11 on your computer, networking will break,&amp;rdquo; I&amp;rsquo;m just saying that if you experience the symptoms outlined below and you&amp;rsquo;re stuck, trying uninstalling WM11 and the WM11 codec; you just might get lucky.&lt;/p&gt;

&lt;p&gt;So, one of the other techs in the office calls me over: He&amp;rsquo;s been beating his head against a wall with a remote user being unable to get internet connectivity on his Windows XP workstation. The tech has been on this thing for hours, tried just about everything he can think of shy of a workstation rebuild, and he&amp;rsquo;s looking for some team support. I have him throw the ticket my way; I figure that another set of eyes can only be helpful. With a bit of digging, we isolate the symptoms:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Full connectivity to the local server is available&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Name resolution is still solid&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Pings are working to both local and remote addresses&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Anything higher up the stack than pings only work locally, and bail as soon as you cross a router. This includes file shares, RDP, FTP, HTTP/s, MAPI, and I&amp;rsquo;m guessing anything else higher than layer 4.&lt;!-- more --&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;About an hour or so later, I&amp;rsquo;m still not much farther than tech #1. I&amp;rsquo;ve reset the stack (&lt;code&gt;netsh winsock reset&lt;/code&gt;) and rebooted, updated/reinstalled the network card drivers&amp;hellip;heck, we even flashed the BIOS on the thing. Nothing&amp;hellip;zip&amp;hellip;nada.&lt;/p&gt;

&lt;p&gt;So, I start thinking that maybe some weird malware/adware that&amp;rsquo;s intercepting traffic and messing things up. I head to Add/Remove Programs and start flipping through the titles. Nothing nasty stands out, but I remove the IE toolbars just to be safe as I&amp;rsquo;ve had some personal experience with Yahoo! toolbars causing crashes and other wonderful things in IE. Still no joy&amp;hellip;&lt;/p&gt;

&lt;p&gt;I get to the end of the list and see an entry for &lt;strong&gt;Windows Media Player 11 codec&lt;/strong&gt;. Now, fortunate for me, I don&amp;rsquo;t play around with WM much, and so I&amp;rsquo;m not sure if this is a legit piece of software or not. What I do remember is a particularly nasty experience I had with some malware hiding in the Add/Remove Programs list as media players. So, out goes the codec. Just for good measure, I toss Windows Media Player 11 after the reboot and then reboot the box again. Why? To be honest, I really don&amp;rsquo;t know&amp;hellip;I was getting pretty low on bright ideas at that point.&lt;/p&gt;

&lt;p&gt;And then, magically, internet connectivity is restored. I still don&amp;rsquo;t have an explanation for this, but for some reason, Windows Media Player 11 being installed on that machine (and at least two others so far in my experience!) caused Layer 5+ routed networking to bail. If you have a KB or something that explains this, please let me know, &amp;lsquo;cause that&amp;rsquo;s just messed up!&lt;/p&gt;

&lt;p&gt;Anyhow: Happy hunting!&lt;/p&gt;

&lt;p&gt;JaS&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SSL Errors in Exchange 2003 Public Folder Management</title>
      <link>http://blog.slabnet.com/post/ssl-errors-in-exchange-2003-public-folder-management/</link>
      <pubDate>Wed, 13 Aug 2008 05:51:47 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/ssl-errors-in-exchange-2003-public-folder-management/</guid>
      <description>&lt;p&gt;On a recent network audit for a prospective new client, I came across an issue in the Exchange System Manager for their Exchange Server 2003 box. When you tried to browse into any public folder management, ESM presented the following error:&lt;/p&gt;

&lt;p&gt;The SSL certificate server name is incorrect.&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;I checked the certificate, and it was definitely valid with a trusted Root CA. A quick web search pointed me to &lt;a href=&#34;http://support.microsoft.com/kb/324345&#34;&gt;this&lt;/a&gt; Microsoft KB. The gist is that whoever set up the Exchange server had set SSL to be required on the \Exadmin virtual directory in the default site on the server. The solution: Clear SSL for the Exadmin vdir and relaunch ESM.&lt;/p&gt;

&lt;p&gt;This one is fairly straightforward and seems to be fairly common, but I thought I would throw it up here all the same as I had not really come across it in recent memory.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;JaS&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Accessing Active Directory in PHP using ADLDAP</title>
      <link>http://blog.slabnet.com/post/accessing-active-directory-in-php-using-adldap/</link>
      <pubDate>Wed, 13 Aug 2008 05:35:37 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/accessing-active-directory-in-php-using-adldap/</guid>
      <description>&lt;p&gt;Lately, our company has started developing user web portals for our clients. The main goal is to provide a central reference point for common links (webmail, helpdesk, remote assistance links &amp;hellip; ), howto documents, and other files and resources. A secondary goal was to also allow user administrators to perform basic user management through a web interface. This would include things like disabling/creating/unlocking user accounts, resetting passwords, and modifying group memberships for access reasons. Myself and the other admin tasked with setting up this portal are most familiar with PHP, and so we went of looking for the best means of interfacing with Active Directory through PHP. &lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;Now, you can obviously use PHP&amp;rsquo;s built-in LDAP support, provided PHP was built &amp;ndash;with-ldap. If you&amp;rsquo;re doing a lot of calls back and forth though, this can get pretty tedious pretty fast. It can also be quite intimidating to someone who is more of a sysadmin that a full-time developer (myself included!). So, abstracting away some of the complexity would be handy. I&amp;rsquo;m betting there are other systems out there, but for us, &lt;a href=&#34;http://adldap.sourceforge.net/&#34;&gt;adldap&lt;/a&gt; was the answer.&lt;/p&gt;

&lt;p&gt;Adldap provides an easy-to-use interface for both querying and modifying Active Directory. This post is not meant to be a complete setup guide, but rather just an overview, so here&amp;rsquo;s the quick summary:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Runs on Apache or IIS (although the documentation is a little thin on using IIS)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Might require some configuration in your environment to support secure LDAP queries over SSL&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Incorporates into your PHP pages through a class definition file. Configure the settings in the provided adldap.php file to match your environment, include() it in your php page, initialize an instance of the class (&lt;code&gt;$adldap = new adLDAP();&lt;/code&gt;), and you&amp;rsquo;re ready to go.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Allows you to add custom functions by adding to the class definition file.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If some of that sounds scary, don&amp;rsquo;t worry: It can sound more intimidating than it really is. If you have some reasonable PHP background, just go and check it out and get your feet wet. Like I said: Both myself and the other project contributor are not full-time developers, but we&amp;rsquo;ve thrown pretty useful AD integration into the portals. Heck, we&amp;rsquo;ve even started incorporating some AJAX on the site (with some help from &lt;a href=&#34;http://www.prototypejs.org/&#34;&gt;Prototype&lt;/a&gt;&amp;hellip;but that&amp;rsquo;s another post&amp;hellip;) to work with adldap and make the thing pretty slick overall!&lt;/p&gt;

&lt;p&gt;One thing that was getting at me a little bit was that I couldn&amp;rsquo;t just throw a custom ldap query string into aldap and get the results. Part of the abstraction is that you get a set of functions for querying for specific types of information: user_info(), user_delete(), authenticate(), group_create(), etc, but no raw ldap query function. So I checked out how the thing is put together, and I bastardized some of the existing functions to suit my purposes. If you&amp;rsquo;re familiar with ldap queries, add the following code into your aldap.php class definition file, and you&amp;rsquo;ve got yourself an easy way of performing custom ldap queries:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;function any_info($filter=NULL,$fields=NULL){
// Written by Hugo Slabbert (JustAnotherSysadmin - http://bamboo.slabnet.com/~hslabbert/blog) from other functions; defaults to root
if (!$this-&amp;gt;_bind){ return (false); }
if ( $filter==NULL ){ $filter=&amp;quot;(&amp;amp;(objectclass=domainDNS)(!(distinguishedname=&amp;quot; . $this-&amp;gt;_base_dn . &amp;quot;)))&amp;quot;; }
if ($fields==NULL){ $fields=array(&amp;quot;name&amp;quot;,&amp;quot;cn&amp;quot;,&amp;quot;displayname&amp;quot;,&amp;quot;dn&amp;quot;); }
$sr=ldap_search($this-&amp;gt;_conn,$this-&amp;gt;_base_dn,$filter,$fields);
$entries = ldap_get_entries($this-&amp;gt;_conn, $sr);&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;return ($entries);
}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you do use the code snippet, I just ask that you keep the comments in tact. I don&amp;rsquo;t mind sharing, but I&amp;rsquo;d like a little bit of the credit!&lt;/p&gt;

&lt;p&gt;When you use the &lt;code&gt;any_info()&lt;/code&gt; function above, it takes two parameters: your ldap query (&lt;code&gt;$filter&lt;/code&gt;), and an array of which attributes you wish to return for the objects that match your query (&lt;code&gt;$fields&lt;/code&gt;). If you leave the second parameter blank, the default attributes of name, cn (canonical name), display name, and dn (distinguished name) will be returned.&lt;/p&gt;

&lt;p&gt;So, go ahead! Try it out! Let me know if it works for you and what doesn&amp;rsquo;t. I do have two final recommendations, though:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;If you run into technical difficulties getting adldap running properly, you&amp;rsquo;re probably better off going through their actual support (forums, documentation, etc.) than posting requests here. I&amp;rsquo;ve used the system, but I&amp;rsquo;m betting you will get way better support from the actual devs!&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Remember that the point of this tool is to enable access to your Active Directory through the a web interface. Secure your web app accordingly! Putting powerful tools on the web is great, but realize that you are doing just that: Putting POWERFUL tools on the web! You are the best judge (hopefully!) of what suits your organization.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Happy coding!&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post: 13344S6vTAmrM5De7DermysvN6UE3QDSzb&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Exchange 2007: Messages stuck in Submission Queue</title>
      <link>http://blog.slabnet.com/post/exchange-2007-messages-stuck-in-submission-queue/</link>
      <pubDate>Wed, 13 Aug 2008 04:32:24 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/exchange-2007-messages-stuck-in-submission-queue/</guid>
      <description>&lt;p&gt;We recently received reports of message delivery delays in our Exchange organization. We run Exchange 2007, so I checked out the Hub Transport Servers and discovered that messages were piling up in the &lt;strong&gt;Submission&lt;/strong&gt; queues on both of the main hub transports. Restarting the Microsoft Exchange Transport service didn&amp;rsquo;t get things going again, so I turned to the Application Log to try to figure out what was going on.&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;I noticed some errors coming from the source &lt;strong&gt;MSExchange Extensibility&lt;/strong&gt;, with an event ID of 1050. They read as follows:&lt;/p&gt;

&lt;blockquote&gt;The execution time of agent &#39;ScanMail Routing Agent&#39; exceeded 300000 (milliseconds) while handling event &#39;OnSubmittedMessage&#39;. This is an unusual amount of time for an agent to process a single event. However, Transport will continue processing this message.&lt;/blockquote&gt;

&lt;p&gt;From the event, you can tell we&amp;rsquo;re using TrendMicro ScanMail as part of our edge protection. It looked like the ScanMail scanning agent was stuck on a message and couldn&amp;rsquo;t proceed. So, off to the services console I go. ScanMail has three services installed on the server, including its Master Service. The other services seemed happy, but the Master service timed out when I attempted to stop it. I checked the service properties and found its related executable file and killed it through Task Manager. The service was then recorded in the Services Console as being stopped, and after starting the service, mail started flowing again on that Hub Transport server. I repeated those steps on the second Hub Transport server, and messages came flooding out from there as well.&lt;/p&gt;

&lt;p&gt;I checked that ScanMail was up to date on both servers, and they appeared to be. I checked through Trend Micro&amp;rsquo;s site nonetheless, and found that there appeared to be a related update. The links:&lt;/p&gt;

&lt;p&gt;List of updates for ScanMail 8:  &lt;a href=&#34;http://www.trendmicro.com/download/product.asp?productid=8&#34;&gt;http://www.trendmicro.com/download/product.asp?productid=8&lt;/a&gt;
Direct link to the relevant update:  &lt;a href=&#34;http://www.trendmicro.com/ftp/products/patches/smex_80_win_en_patch3.exe&#34;&gt;ScanMail 8.0 for Microsoft Exchange Patch 3&lt;/a&gt;
The README file:  &lt;a href=&#34;http://www.trendmicro.com/ftp/documentation/readme/smex_80_win_en_patch3_Readme.TXT&#34;&gt;http://www.trendmicro.com/ftp/documentation/readme/smex_80_win_en_patch3_Readme.TXT&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The relevant portion of the changelog:&lt;/p&gt;

&lt;blockquote&gt;21. While ScanMail for Microsoft Exchange 8.0 is running, after a few hours, email messages will start to queue. If user re-starts the ScanMail for Microsoft Exchange services, the application will hang at &#34;Stopping&#34;.&lt;/blockquote&gt;

&lt;p&gt;I was technically on vacation while this all went down, so I had to hand of the update to someone else to apply, but no one was available for that weekend. The patch was not manually applied on the servers that weekend, but the issue did not return. We&amp;rsquo;ve now been running smoothly for about two weeks.&lt;/p&gt;

&lt;p&gt;Hopefully you don&amp;rsquo;t run across the issue, and hopefully this post will be of some help if you do!&lt;/p&gt;

&lt;p&gt;Bitcoin tip address for this post: 1HC44rd1NUZUiWDsHNf9Y1KPSxbtW7b5Sw&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Gmail Filesystem for Windows</title>
      <link>http://blog.slabnet.com/post/gmail-filesystem-for-windows/</link>
      <pubDate>Thu, 01 May 2008 03:49:34 +0000</pubDate>
      <author>hugo@slabnet.com (Hugo Slabbert)</author>
      <guid>http://blog.slabnet.com/post/gmail-filesystem-for-windows/</guid>
      <description>&lt;p&gt;If you&amp;rsquo;re looking for an easy online storage solution for Windows (and have a gmail account kicking around), check out the &lt;a href=&#34;http://www.viksoe.dk/code/gmail.htm&#34;&gt;Gmail Drive&lt;/a&gt; by  &lt;a href=&#34;http://www.viksoe.dk/code/index.htm&#34;&gt;bjarke&lt;/a&gt;. It&amp;rsquo;s a free shell extension for Windows that basically adds a new drive to your computer. When you try to access the drive through Windows explorer, you are prompted for your gmail login details (you have the option of saving the details to avoid having to login each time you access the drive).&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;File access seems to work similar to how Windows Explorer interacts with FTP folders. A right-click context menu allows you to create a new folder, but not new files as with a regular Windows disk or share. Files and folders you save in the gmail drive show up as messages with the file/folder as an attachment. The author recommends adding a filter to your gmail account that will automatically archive new Gmail Drive messages (they all start with a subject of &amp;ldquo;&lt;em&gt;GMAILFS&lt;/em&gt;&amp;rdquo;. I also added set the filter to add a label of &lt;strong&gt;GMAILDRIVE&lt;/strong&gt; for easy searching.&lt;/p&gt;

&lt;p&gt;6 gigs of free, easy-access online storage? Bring it on!&lt;/p&gt;

&lt;p&gt;JaS&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>